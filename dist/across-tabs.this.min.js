/*!
 * 
 * across-tabs "1.3.1"
 * https://github.com/wingify/across-tabs
 * MIT licensed
 * 
 * Copyright (C) 2017-2019 Wingify Pvt. Ltd. - Authored by Varun Malhotra(https://github.com/softvar)
 * 
 */
this.AcrossTabs=function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={LOADED:"__TAB__LOADED_EVENT__",CUSTOM:"__TAB__CUSTOM_EVENT__",HANDSHAKE:"__TAB__HANDSHAKE_EVENT__",ON_BEFORE_UNLOAD:"__TAB__ON_BEFORE_UNLOAD__",PARENT_DISCONNECTED:"__PARENT_DISCONNECTED__",HANDSHAKE_WITH_PARENT:"__HANDSHAKE_WITH_PARENT__",PARENT_COMMUNICATED:"__PARENT_COMMUNICATED__",PARENT_COMMUNICATED_STORAGE_DATA:"__PARENT_COMMUNICATED_STORAGE_DATA__"};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={INVALID_JSON:"Invalid JSON Object!",INVALID_DATA:"Some wrong message is being sent by Parent.",CONFIG_REQUIRED:"Configuration options required. Please read docs.",CUSTOM_EVENT:"CustomEvent(and it's polyfill) is not supported in this browser.",URL_REQUIRED:"Url is needed for creating and opening a new window/tab. Please read docs.",ACROSS_TABS_UNAVAILABLE:"AcrossTabs was not available on the child tab"};t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=a(i),r=n(3),u=a(r),s=n(4),d=a(s),l=n(1),f=a(l),c={tabs:[],config:{}};c._remove=function(e){var t=void 0;t=u.default.searchByKeyName(c.tabs,"id",e.id,"index"),c.tabs.splice(t,1)},c._preProcessMessage=function(e){try{e=c.config.stringify(e)}catch(e){throw new Error(f.default.INVALID_JSON)}return e&&-1===e.indexOf(o.default.PARENT_COMMUNICATED)&&(e=o.default.PARENT_COMMUNICATED+e),e},c.addNew=function(e){c.tabs.push(e)},c.getOpened=function(){return c.tabs.filter(function(e){return e.status===d.default.OPEN})},c.getClosed=function(){return c.tabs.filter(function(e){return e.status===d.default.CLOSE})},c.getAll=function(){return c.tabs},c.closeTab=function(e){var t=u.default.searchByKeyName(c.tabs,"id",e);return t&&t.ref&&(t.ref.close(),t.status=d.default.CLOSE),c},c.closeAll=function(){var e=void 0;for(e=0;e<c.tabs.length;e++)c.tabs[e]&&c.tabs[e].ref&&(c.tabs[e].ref.close(),c.tabs[e].status=d.default.CLOSE);return c},c.broadCastAll=function(e,t){var n=void 0,a=c.getOpened();for(e=c._preProcessMessage(e),n=0;n<a.length;n++)c.sendMessage(a[n],e,t);return c},c.broadCastTo=function(e,t,n){var a=void 0,i=c.getAll();return t=c._preProcessMessage(t),a=u.default.searchByKeyName(i,"id",e),c.sendMessage(a,t,n),c},c.sendStorageDataTo=function(e,t,n){var a=void 0,i=c.getAll();try{t=c.config.stringify(t),t=o.default.PARENT_COMMUNICATED_STORAGE_DATA+t,a=u.default.searchByKeyName(i,"id",e),c.sendMessage(a,t,n)}catch(e){throw new Error(f.default.INVALID_JSON)}return c},c.sendMessage=function(e,t,n){var a=c.config.origin||"*";if(n&&e.ref[0])for(var i=0;i<e.ref.length;i++)e.ref[i].postMessage(t,a);else e.ref&&e.ref.top&&e.ref.top.postMessage(t,a)},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={},i={INDEX:"index",OBJECT:"object",BOTH:"both"};a.searchByKeyName=function(e,t,n,a){if(!e||!t)return!1;a=a||i[1];var o=void 0,r=void 0,u=void 0,s=-1;for(o=0;o<e.length;o++){if(r=e[o],!isNaN(n)&&parseInt(r[t],10)===parseInt(n,10)){s=o;break}if(isNaN(n)&&r[t]===n){s=o;break}}switch(-1===s&&(e[s]={}),a){case i.INDEX:u=s;break;case i.BOTH:u={obj:e[s],index:s};break;case i.OBJECT:default:u=e[s]}return u},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={OPEN:"open",CLOSE:"close"};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={disable:function(e){if(!e)return!1;var t=void 0,n=document.querySelectorAll("["+e+"]");for(t=0;t<n.length;t++)n[t].setAttribute("disabled","disabled")},enable:function(e){if(!e)return!1;var t=void 0,n=document.querySelectorAll("["+e+"]");for(t=0;t<n.length;t++)n[t].removeAttribute("disabled")}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={NEW_TAB_DATA:"__NEW_TAB_DATA__",CONNECTED_TAB_DATA:"__ACTIVE_TAB_DATA__"};t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=a(i),r=n(13),u=a(r),s={Parent:o.default,Child:u.default};t.default=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(9),s=a(u),d=n(2),l=a(d),f=n(5),c=a(f),_=n(4),h=a(_),v=n(1),w=a(v),E=n(0),A=a(E),g=n(11),N=a(g),O=void 0,b=void 0,y=function(){function e(t){i(this,e),t=t||{},void 0===t.heartBeatInterval&&(t.heartBeatInterval=500),void 0===t.shouldInitImmediately&&(t.shouldInitImmediately=!0),"function"!=typeof t.parse&&(t.parse=JSON.parse),"function"!=typeof t.stringify&&(t.stringify=JSON.stringify),l.default.tabs=[],this.Tab=s.default,o(this,t),l.default.config=t,this.shouldInitImmediately&&this.init()}return r(e,[{key:"addInterval",value:function(){var e=void 0,t=l.default.getAll(),n=l.default.getOpened();if(!n||!n.length)return window.clearInterval(O),O=null,!1;for(e=0;e<t.length;e++)this.removeClosedTabs&&this.watchStatus(t[e]),t[e]&&t[e].ref&&(t[e].status=t[e].ref.closed?h.default.CLOSE:h.default.OPEN);this.onPollingCallback&&this.onPollingCallback()}},{key:"startPollingTabs",value:function(){var e=this;O=window.setInterval(function(){return e.addInterval()},this.heartBeatInterval)}},{key:"watchStatus",value:function(e){if(!e||!e.ref)return!1;var t=e.ref.closed?h.default.CLOSE:h.default.OPEN,n=e.status;if(!t||t===n)return!1;n===h.default.OPEN&&t===h.default.CLOSE&&l.default._remove(e)}},{key:"onChildUnload",value:function(e){this.onChildDisconnect&&this.onChildDisconnect(e.detail)}},{key:"customEventUnListener",value:function(e){this.enableElements(),e.detail&&e.detail.type===A.default.HANDSHAKE&&this.onHandshakeCallback?this.onHandshakeCallback(e.detail.tabInfo):e.detail&&e.detail.type===A.default.CUSTOM&&this.onChildCommunication&&this.onChildCommunication(e.detail.tabInfo)}},{key:"addEventListeners",value:function(){var e=this;window.removeEventListener("message",N.default.onNewTab),window.addEventListener("message",N.default.onNewTab),window.removeEventListener("onCustomChildMessage",this.customEventUnListener),window.addEventListener("onCustomChildMessage",function(t){return e.customEventUnListener(t)}),window.removeEventListener("onChildUnload",this.onChildUnload),window.addEventListener("onChildUnload",function(t){return e.onChildUnload(t)}),window.onbeforeunload=function(){l.default.broadCastAll(A.default.PARENT_DISCONNECTED)}}},{key:"enableElements",value:function(){c.default.enable("data-tab-opener")}},{key:"getAllTabs",value:function(){return l.default.getAll()}},{key:"getOpenedTabs",value:function(){return l.default.getOpened()}},{key:"getClosedTabs",value:function(){return l.default.getClosed()}},{key:"closeAllTabs",value:function(){return l.default.closeAll()}},{key:"closeTab",value:function(e){return l.default.closeTab(e)}},{key:"broadCastAll",value:function(e){return l.default.broadCastAll(e)}},{key:"broadCastTo",value:function(e,t){return l.default.broadCastTo(e,t)}},{key:"sendStorageDataTo",value:function(e,t){return l.default.sendStorageDataTo(e,t)}},{key:"openNewTab",value:function(e){if(!e)throw new Error(w.default.CONFIG_REQUIRED);if(!e.url)throw new Error(w.default.URL_REQUIRED);return b=new this.Tab,b.create(e),setTimeout(function(){var t=l.default.getAll(),n=t.find(function(e){return e.id===window.newlyTabOpened.id});n.wasSuccessfullyLoaded||(this.closeTab(n.id),b.create(e,!0),setTimeout(function(){if(!n.wasSuccessfullyLoaded)throw new Error(w.default.ACROSS_TABS_UNAVAILABLE)},1e4))},1e4),O||this.startPollingTabs(),b}},{key:"init",value:function(){this.addEventListeners()}}]),e}();t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(2),s=a(u),d=n(10),l=a(d),f=n(5),c=a(f),_=n(6),h=a(_),v=function(){function e(){i(this,e),window.name=window.name||"PARENT_TAB"}return r(e,[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=e||{},o(this,e),this.id=l.default.generate()||s.default.tabs.length+1,this.status="open",this.wasSuccessfullyLoaded=!1;var n={};try{var a=JSON.parse(e.windowName);n=a,n[h.default.NEW_TAB_DATA]=""}catch(t){n[h.default.NEW_TAB_DATA]=e.windowName}return t&&(this.url=new URL(this.url),this.url.searchParams.append(h.default.NEW_TAB_DATA,e.windowName)),this.ref=window.open(this.url,JSON.stringify(n)||"_blank",e.windowFeatures),c.default.disable("data-tab-opener"),window.newlyTabOpened={id:this.id,name:this.name||this.windowName,ref:this.ref},s.default.addNew(this),this}}]),e}();t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});/**
 * UUID.js: The RFC-compliant UUID generator for JavaScript.
 * ES6 port of only `generate` method of UUID by Varun Malhotra under MIT License
 *
 * @author  LiosK
 * @version v3.3.0
 * @license The MIT License: Copyright (c) 2010-2016 LiosK.
 */
var a=void 0;a=function(){function e(){}return e.generate=function(){var t=e._getRandomInt,n=e._hexAligner;return n(t(32),8)+"-"+n(t(16),4)+"-"+n(16384|t(12),4)+"-"+n(32768|t(14),4)+"-"+n(t(48),12)},e._getRandomInt=function(e){return e<0?NaN:e<=30?0|Math.random()*(1<<e):e<=53?(0|Math.random()*(1<<30))+(0|Math.random()*(1<<e-30))*(1<<30):NaN},e._getIntAligner=function(e){return function(t,n){for(var a=t.toString(e),i=n-a.length,o="0";i>0;i>>>=1,o+=o)1&i&&(a=o+a);return a}},e._hexAligner=e._getIntAligner(16),e.prototype.toString=function(){return this.hexString},e}(),t.default=a},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=a(i),r=n(2),u=a(r),s=n(1),d=a(s),l=n(0),f=a(l);n(12);var c={};c._onLoad=function(e){var t=void 0,n=void 0,a=e.split(f.default.LOADED)[1];if(a)try{a=u.default.config.parse(a),a.id&&(t=u.default.getAll(),t.length&&(window.newlyTabOpened=t[t.length-1],window.newlyTabOpened.id=a.id,window.newlyTabOpened.name=a.name||a.windowName))}catch(e){throw new Error(d.default.INVALID_JSON)}if(window.newlyTabOpened)try{t=u.default.getAll();var i=t.find(function(e){return e.id===window.newlyTabOpened.id});i&&(i.wasSuccessfullyLoaded=!0),n=f.default.HANDSHAKE_WITH_PARENT,n+=u.default.config.stringify({id:window.newlyTabOpened.id,name:window.newlyTabOpened.name||window.newlyTabOpened.windowName,parentName:window.name}),u.default.sendMessage(window.newlyTabOpened,n,a.isSiteInsideFrame)}catch(e){throw new Error(d.default.INVALID_JSON)}},c._onCustomMessage=function(e,t){var n=void 0,a=void 0,i=e.split(t)[1];try{i=u.default.config.parse(i)}catch(e){throw new Error(d.default.INVALID_JSON)}a={tabInfo:i,type:t},n=new CustomEvent("onCustomChildMessage",{detail:a}),window.dispatchEvent(n)},c._onBeforeUnload=function(e){var t=void 0,n=e.split(f.default.ON_BEFORE_UNLOAD)[1];try{n=u.default.config.parse(n)}catch(e){throw new Error(d.default.INVALID_JSON)}u.default.tabs.length&&(t=u.default.getAll(),window.newlyTabOpened=o.default.searchByKeyName(t,"id",n.id)||window.newlyTabOpened);var a=new CustomEvent("onChildUnload",{detail:n});window.dispatchEvent(a)},c.onNewTab=function(e){var t=e.data;return!(!t||"string"!=typeof t||!u.default.tabs.length)&&((!u.default.config.origin||u.default.config.origin===e.origin)&&void(t.indexOf(f.default.LOADED)>-1?c._onLoad(t):t.indexOf(f.default.CUSTOM)>-1?c._onCustomMessage(t,f.default.CUSTOM):t.indexOf(f.default.HANDSHAKE)>-1?c._onCustomMessage(t,f.default.HANDSHAKE):t.indexOf(f.default.ON_BEFORE_UNLOAD)>-1&&c._onBeforeUnload(t)))},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t.detail),n}"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,window.CustomEvent=e)}()},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(0),s=a(u),d=n(1),l=a(d),f=n(6),c=a(f),_=n(14),h=a(_),v=function(){function e(t){i(this,e),t||(t={}),void 0===t.handshakeExpiryLimit&&(t.handshakeExpiryLimit=5e3),void 0===t.shouldInitImmediately&&(t.shouldInitImmediately=!0),"function"!=typeof t.parse&&(t.parse=JSON.parse),"function"!=typeof t.stringify&&(t.stringify=JSON.stringify),this.tabName=window.name,this.tabId=null,this.tabParentName=null,this.tabStorage=new h.default(this._isWindowNameOverridden()),o(this,t),this.config=t,this.shouldInitImmediately&&this.init()}return r(e,[{key:"_isWindowNameOverridden",value:function(){return window.name.indexOf(c.default.NEW_TAB_DATA)<0}},{key:"_parseData",value:function(e){var t=void 0;try{t=this.config.parse(e),this.tabId=t&&t.id,this.tabName=t&&t.name,this.tabParentName=t&&t.parentName,this.tabStorage.set(c.default.NEW_TAB_DATA,e)}catch(e){throw new Error(l.default.INVALID_DATA)}}},{key:"onCommunication",value:function(e){var t=this,n=void 0,a=e.data;if(a&&"string"==typeof a&&(!this.config.origin||this.config.origin===e.origin)){if(window.clearTimeout(this.timeout),a.indexOf(s.default.PARENT_DISCONNECTED)>-1&&(this.config.onParentDisconnect&&this.config.onParentDisconnect(),window.removeEventListener("message",function(e){return t.onCommunication(e)})),a.indexOf(s.default.HANDSHAKE_WITH_PARENT)>-1){var i=void 0;n=a.split(s.default.HANDSHAKE_WITH_PARENT)[1],this._parseData(n),i={id:this.tabId,isSiteInsideFrame:this.config.isSiteInsideFrame},this.sendMessageToParent(i,s.default.HANDSHAKE),this.config.onInitialize&&this.config.onInitialize()}if(a.indexOf(s.default.PARENT_COMMUNICATED)>-1){n=a.split(s.default.PARENT_COMMUNICATED)[1];try{n=this.config.parse(n)}catch(e){throw new Error(l.default.INVALID_JSON)}this.config.onParentCommunication&&this.config.onParentCommunication(n)}if(a.indexOf(s.default.PARENT_COMMUNICATED_STORAGE_DATA)>-1){n=a.split(s.default.PARENT_COMMUNICATED_STORAGE_DATA)[1];try{n=this.config.parse(n),Object.entries(n).map(function(e){t.tabStorage.set(e[0],e[1])})}catch(e){throw new Error(l.default.INVALID_JSON)}this.config.onParentCommunicatedStorageData&&this.config.onParentCommunicatedStorageData()}}}},{key:"addListeners",value:function(){var e=this;window.onbeforeunload=function(t){var n={id:e.tabId,isSiteInsideFrame:e.config.isSiteInsideFrame};e.sendMessageToParent(n,s.default.ON_BEFORE_UNLOAD)},window.removeEventListener("message",function(t){return e.onCommunication(t)}),window.addEventListener("message",function(t){return e.onCommunication(t)})}},{key:"setHandshakeExpiry",value:function(){var e=this;return window.setTimeout(function(){e.config.onHandShakeExpiry&&e.config.onHandShakeExpiry()},this.handshakeExpiryLimit)}},{key:"sendMessageToParent",value:function(e,t){var n=void 0;e=(t||s.default.CUSTOM)+this.config.stringify(e),window.top.opener&&(n=this.config.origin||"*",window.top.opener.postMessage(e,n))}},{key:"getTabInfo",value:function(){return{id:this.tabId,name:window.name,parentName:this.tabParentName,isSiteInsideFrame:this.config.isSiteInsideFrame}}},{key:"init",value:function(){this.addListeners(),this.sendMessageToParent(this.getTabInfo(),s.default.LOADED),this.timeout=this.setHandshakeExpiry(),this.config.onReady&&this.config.onReady()}}]),e}();t.default=v},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(15),r=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a(this,e),this.storageLocation=t?r.default.SESSION_STORAGE:r.default.WINDOW_NAME}return i(e,[{key:"get",value:function(e){var t=null;switch(this.storageLocation){case r.default.WINDOW_NAME:window.name&&(t=JSON.parse(window.name)[e]);break;case r.default.SESSION_STORAGE:t=window.sessionStorage.getItem(e)}return t}},{key:"set",value:function(e,t){switch(this.storageLocation){case r.default.WINDOW_NAME:var n={};window.name&&(n=JSON.parse(window.name)),n[e]=t,window.name=JSON.stringify(n);break;case r.default.SESSION_STORAGE:window.sessionStorage.setItem(e,t)}}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={WINDOW_NAME:"__WINDOW_NAME__",SESSION_STORAGE:"__SESSION_STORAGE__"};t.default=a}]);